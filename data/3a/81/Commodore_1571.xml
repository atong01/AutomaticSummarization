<article title='Commodore_1571'><paragraph><template><target>no footnotes</target><arg name="date">January 2013</arg></template><link><target>Image:Commodore 1571.png</target><part>thumb</part><part>right</part><part>250px</part><part>The '''Commodore 1571''' disk drive</part></link>The<space/><bold>Commodore 1571</bold><space/>is<space/><link><target>Commodore International</target><part>Commodore's</part></link><space/>high-end 5&quot;<space/><link><target>floppy disk</target></link><space/>drive. With its<space/><link><target>Double-sided disk</target><part>double-sided</part></link><space/>drive mechanism, it has the ability to use double-sided, double-density (DS/DD) floppy disks natively. This is in contrast to its predecessors, the<space/><link><target>Commodore 1541</target><part>1541</part></link><space/>and<space/><link><target>Commodore 1570</target><part>1570</part></link>, which can fully read and write such disks only if the user manually<space/><link><target>Flippy disk</target><part>flipped them over</part></link><space/>to access the second side. Because flipping the disk also reverses the direction of rotation, the two methods are not interchangeable; disks which had their back side created in a 1541 by flipping them over would have to be flipped in the 1571 too, and the back side of disks written in a 1571 using the native support for two-sided operation could not be read in a 1541.</paragraph><heading level='2'>Release &amp; features</heading><paragraph>The 1571 was released to match the<space/><link><target>Commodore 128</target></link>, both design-wise and feature-wise. It was announced in the summer of 1985, at the same time as the C128, and became available in quantity later that year. The later C128<italics>D</italics><space/>had a 1571-compatible drive integrated in the system unit. A double-sided disk on the 1571 would have a capacity of 340<space/><link><target>kilobyte</target><part>kB</part></link><space/>(70 tracks, 1,360 disk blocks of 256<space/><link><target>byte</target><trail>s</trail></link><space/>each); as 8 kB are reserved for system use (directory and block availability information) and, under<space/><template><target>nowrap</target><arg>[[Commodore DOS|CBM DOS]],</arg></template><space/><template><target>nowrap</target><arg>2 bytes</arg></template><space/>of each block serve as pointers to the next logical block,<space/><template><target>nowrap</target><arg>254 x 1,328</arg></template><space/>= 337,312<space/><link><target>byte</target><part>B</part></link><space/>or about<space/><template><target>nowrap</target><arg>329.4 kB</arg></template><space/>were available for user data. (However, with a program organizing disk storage on its own, all space could be used, e.g. for data disks.)</paragraph><paragraph>The 1571 features a &quot;burst mode&quot; when used in conjunction with the C128 (although not when used with the<space/><link><target>Commodore 64</target></link><space/>(without modifying hardware) or<space/><link><target>Commodore VIC-20</target><part>VIC-20</part></link>). This mode replaced the slow<space/><link><target>bit-banging</target></link><space/>serial routines of the 1541 with a true serial<space/><link><target>shift register</target></link><space/>implemented in hardware, thus dramatically increasing the drive speed. Although this originally had been planned when Commodore first switched from the parallel<space/><link><target>IEEE-488</target></link><space/>interface to a custom serial interface, hardware bugs in the VIC-20's<space/><link><target>MOS Technology 6522</target><part>6522 VIA</part></link><space/>shift register prevented it from working properly.<extension extension_name='ref' name="b64notes"><template><target>cite web</target><arg name="title">Binary Dinosaurs - C64 Notes<space/></arg><arg name="url">http://www.binarydinosaurs.co.uk/Museum/Commodore/c64/c64notes.php<space/></arg><arg name="date">1994-04-07<space/></arg><arg name="accessdate">2013-06-27</arg></template></extension></paragraph><paragraph>For compatibility with copy-protected software, the 1571 could closely emulate the 1541. This mode was the default when the drive was used in conjunction with a C64; while always being able to read and write the 1541's<space/><template><target>nowrap</target><arg>[[Group code recording|GCR]] format</arg></template><space/>of<space/><template><target>nowrap</target><arg>170 kB DD</arg></template><space/>single-sided, in this mode it also would format disks single-sided and transfer data at 1541 speed. An undocumented command allowed the drive to format and use the second side of a disk, but only in single-sided mode.</paragraph><paragraph>The 1571 was noticeably quieter than its predecessor and tended to run cooler as well, even though, like the 1541, it had an internal power supply (later Commodore drives, like the 1541-II and the 3&quot;<space/><link><target>Commodore 1581</target><part>1581</part></link>, came with external power supplies). The 1541-II/1581 power supply makes mention of a 1571-II, hinting that Commodore may have intended to release a version of the 1571 with an external power supply. However, no 1571-IIs are known to exist. The embedded OS in the 1571 was<space/><template><target>nowrap</target><arg>[[Commodore DOS|CBM DOS]]</arg></template><space/><template><target>nowrap</target><arg>V3.0 1571,</arg></template><space/>an improvement over the<space/><template><target>nowrap</target><arg>1541's V2.6.</arg></template><template><target>fact</target><arg name="date">June 2014</arg></template></paragraph><paragraph>Early 1571s had a bug in the ROM-based disk operating system that caused relative files to corrupt if they occupied both sides of the disk. A version 2 ROM was released, but though it cured the initial bug, it introduced some minor quirks of its own - particularly with the 1541 emulation. Curiously, it was also identified as V3.0.</paragraph><paragraph>As with the 1541, Commodore initially could not meet demand for the 1571, and that lack of availability and the drive's relatively high price (about US$300) presented an opportunity for cloners. Two 1571 clones appeared, one from Oceanic and one from Blue Chip, but legal action from Commodore quickly drove them from the market.</paragraph><paragraph>Commodore announced a dual-drive version of the 1571, to be called the<space/><bold>1572</bold>, but quickly canceled it, reportedly due to technical difficulties with the 1572 DOS. It would have had four times as much RAM as the 1571, and twice as much ROM. The 1572 would have allowed for fast disk backups of non-copy-protected media, much like the old 4040, 8050, and 8250 dual drives.</paragraph><paragraph>The 1571 built into the European plastic-case C128 D computer is electronically identical to the stand-alone version, but 1571 version integrated into the later metal-case C128 D (often called C128 DCR, for D Cost-Reduced) differs a lot from the stand-alone 1571. It includes a newer DOS, version 3.1, replaces the<space/><link><target>MOS Technology CIA</target></link><space/>interface chip, of which only a few features were used by the 1571 DOS, with a very much simplified chip called 5710, and has some compatibility issues with the stand-alone drive. Because this internal 1571 does not have an unused 8-bit input/output port on any chip, unlike most other Commodore drives, it is not possible to install a parallel cable in this drive, such as that used by<space/><link><target>SpeedDOS</target></link>,<space/><link><target>Dolphin DOS</target></link><space/>and some other fast third-party Commodore DOS replacements.</paragraph><heading level='2'>Disk format</heading><paragraph>Unlike the 1541, which was limited to<space/><link><target>Group Code Recording</target><part>GCR</part></link><space/>formatting, the 1571 could do both GCR and<space/><link><target>Modified Frequency Modulation</target><part>MFM</part></link><space/>disk formats. A C128 in CP/M mode equipped with a 1571 was capable of reading and writing floppy disks formatted for many<space/><link><target>CP/M</target></link><space/>computers; specifically, the following formats:</paragraph><list type='bullet'><listitem><link><target>IBM PC</target></link><space/><link><target>CP/M-86</target></link></listitem><listitem><link><target>Osborne 1</target></link></listitem><listitem><link><target>Epson</target></link><space/>QX10</listitem><listitem><link><target>Kaypro</target></link><space/>II, IV</listitem><listitem>CBM CP/M FORMAT SS<space/></listitem><listitem>CBM CP/M FORMAT DS</listitem></list><paragraph>Other MFM formats were possible if their characteristics were added to the CP/M C128-specific source code (available from Commodore) and the CP/M operating system were re-assembled. However, booting CP/M was only supported from disks in the standard Commodore GCR format; the MFM formats could only be used once the system was running.</paragraph><paragraph>Depending on format, CP/M disks would format to<space/><template><target>nowrap</target><arg>360 kB,</arg></template><space/>with a mechanical maximum capacity of a<space/><template><target>nowrap</target><arg>400 kB</arg></template><space/>format (as with<space/><template><target>nowrap</target><arg>DD 5.25" drives</arg></template><space/>generally).<space/></paragraph><paragraph>With additional software, it was possible to read and write to<space/><link><target>MS-DOS</target></link>-formatted floppies as well. Numerous commercial and public-domain programs for this purpose became available, the best-known being<space/><link><target>SOGWAP</target></link>'s &quot;Big Blue Reader&quot;. Although the C128 could not run any DOS-based software, this capability allowed data files to be exchanged with PC users. Reading<space/><template><target>nowrap</target><arg>[[Atari 8-bit family|Atari 8-bit]]</arg></template><space/><template><target>nowrap</target><arg>130 kB</arg></template><space/>or<space/><template><target>nowrap</target><arg>180 kB</arg></template><space/>disks was possible as well with special software, but the standard<space/><template><target>nowrap</target><arg>Atari 8-bit</arg></template><space/><template><target>nowrap</target><arg>90 kB</arg></template><space/>format, which used<space/><link><target>Frequency modulation</target><part>FM</part></link><space/>rather than<space/><link><target>Modified Frequency Modulation</target><part>MFM</part></link><space/>encoding, could not be handled by the 1571 hardware without modifying the drive circuitry as the control line that determines if FM or MFM encoding is used by the disc controller chip was permanently wired to ground (MFM mode) rather than being under software control.</paragraph><paragraph>In the 1541 format, while 40 tracks are possible for a<space/><template><target>nowrap</target><arg>5.25" DD</arg></template><space/>drive like the 154x/157x, only<space/><template><target>nowrap</target><arg>35 tracks</arg></template><space/>are used. Commodore chose not to use the upper five tracks by default (or at least to use more than 35) due to the bad quality of some of the drive mechanisms, which did not always work reliably on those tracks. By reducing the number of tracks used (and thus the capacity), Commodore could further reduce cost<template><target>clarify</target><arg name="date">January 2013</arg></template><space/>- in contrast to the double-density drives used e.g. in IBM PCs of the day which saved 180 kB on one side (by using a 40-track format).</paragraph><paragraph>For compatibility and ease of implementation, the 1571's double-sided format of one logical disk side with<space/><template><target>nowrap</target><arg>70 tracks</arg></template><space/>was created by putting together the lower 35 physical tracks on each of the physical sides of the disk rather than using two times<space/><template><target>nowrap</target><arg>40 tracks,</arg></template><space/>even though there were no more quality problems with the mechanisms of the 1571 drives.</paragraph><heading level='2'>External links</heading><list type='bullet'><listitem><link type='external' href='http://c64preservation.com'>C64 Preservation Project</link><space/>Discusses internal drive mechanics and copy protection</listitem><listitem><link type='external' href='http://archive.org/stream/run-magazine-64/Run_Issue_64_1989_Apr#page/n53/mode/2up'>RUN Magazine Issue 64</link></listitem><listitem><link type='external' href='http://www.floodgap.com/retrobits/ckb/secret/cbm1572.jpg'>A photo of the 1572 dual drive, with a 1571 single drive shown for comparison</link></listitem><listitem><link type='external' href='http://www.classiccomputer.de/com/kurios/1572.jpg'>The 1572 drive as shown on the Commodore Kuriositten page (German)</link></listitem><listitem><link type='external' href='http://1572.li'>Information page about the Commodore 1572 (German)</link></listitem><listitem><link type='external' href='http://www.floodgap.com/retrobits/ckb/secret/periph.html'>Secret Weapons of Commodore: The Disk Drives</link></listitem><listitem><link type='external' href='http://www.devili.iki.fi/Computers/Commodore/articles/Beyond_the_1541/'>Beyond The 1541: Mass Storage for the 64 and 128</link></listitem></list><heading level='2'>References</heading><list type='bullet'><listitem>Ellinger, Rainer (1986).<space/><italics>1571 Internals.</italics><space/>Grand Rapids, MI: Abacus Software (translated from the original German edition, Dsseldorf: Data Becker GmbH). ISBN 0-916439-44-5.</listitem></list><paragraph><extension extension_name='references'></extension></paragraph><paragraph><template><target>Commodore disk drives</target></template></paragraph><paragraph><link><target>Category:Commodore 64</target></link></paragraph></article>